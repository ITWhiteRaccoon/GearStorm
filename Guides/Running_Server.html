<!doctype html>
<html lang="en">
<head>
    <title>GearStorm Manual</title>
    <meta charset="utf-8">
    <meta content="GearStorm Manual" name="description">
    <meta name="msapplication-TileColor" content="#242424">
    <meta name="msapplication-config" content="/GearStorm/browserconfig.xml">
    <meta name="theme-color" content="#242424">
    <base href="../">
    <link rel="apple-touch-icon" sizes="152x152" href="/GearStorm/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/GearStorm/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/GearStorm/favicon-16x16.png">
    <link rel="manifest" href="/GearStorm/site.webmanifest">
    <link rel="mask-icon" href="/GearStorm/safari-pinned-tab.svg" color="#f76f25">
    <link rel="shortcut icon" href="/GearStorm/favicon.ico">
    <link href="css/GearStorm.css" rel="stylesheet">
    <script src="js/jquery.min.js"></script>
    <script src="js/uikit.min.js"></script>
    <script src="js/GearStorm.js"></script>
</head>
<body uk-height-viewport class="uk-background-cover" data-src="media/Backgrounds/full width.webp" uk-img>
    <header>
        <div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky">
            <nav class="uk-navbar-container" uk-navbar="delay-show:200;delay-hide:400">
                <div class="uk-navbar-left">
                    <a class="uk-navbar-item"
                       href="javascript:window.open('https://store.steampowered.com/app/393800/GearStorm/')">
                        <img src="media/Steam-Logo-Black.svg" uk-svg width="35">
                    </a>
                </div>
                <div class="uk-navbar-center">
                    <div class="uk-navbar-center-left">
                        <div>
                            <ul class="uk-navbar-nav">
                                <li>
                                    <a href="#">Game Basics</a>
                                    <div class="uk-navbar-dropdown">
                                        <ul class="uk-nav uk-navbar-dropdown-nav">
                                            <li><a href="Game_Basics/Admin.html">Gamemaster</a></li>
                                            <li><a href="Game_Basics/Building.html">Building</a></li>
                                            <li><a href="Game_Basics/Crafting_Items.html">Crafting Items</a></li>
                                            <li><a href="Game_Basics/Creatures.html">Creatures</a></li>
                                            <li><a href="Game_Basics/Gear.html">Gear</a></li>
                                            <li><a href="Game_Basics/Items.html">Items</a></li>
                                            <li><a href="Game_Basics/Missions.html">Missions</a></li>
                                            <li><a href="Game_Basics/Power_Armor.html">Power Armor</a></li>
                                            <li><a href="Game_Basics/Quests.html">Quests</a></li>
                                            <li><a href="Game_Basics/Resources.html">Resources</a></li>
                                            <li><a href="Game_Basics/Vehicles.html">Vehicles</a></li>
                                            <li><a href="Game_Basics/Weapons.html">Weapons</a></li>
                                            <li><a href="Game_Basics/Zombies.html">Zombies</a></li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <a href="#">Guides</a>
                                    <div class="uk-navbar-dropdown">
                                        <ul class="uk-nav uk-navbar-dropdown-nav">
                                            <li><a href="Guides/How_To_Play.html">How To Play</a></li>
                                            <li><a href="Guides/Default_Keys.html">Default Keys</a></li>
                                            <li><a href="Guides/Running_Server.html">Run Your Own Server</a></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <a class="uk-navbar-item uk-logo" href="index.html">
                        <img alt="GearStorm Logo" src="media/Logo.png" uk-img width="200">
                    </a>
                    <div class="uk-navbar-center-right">
                        <div>
                            <ul class="uk-navbar-nav">
                                <li><a href="System_Requirements.html">System Requirements</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="uk-navbar-right">
                    <a class="uk-navbar-item" href="javascript:window.open('https://discord.gg/687WMkQ')">
                        <img src="media/Discord-Logo-Black.svg" uk-svg width="50">
                    </a>
                </div>
            </nav>
        </div>
    </header>
    <main uk-height-viewport="offset-top:true" class="uk-background-cover">
        <div class="uk-container">
            <div class="uk-margin-top uk-margin-bottom uk-flex uk-flex-column uk-padding-small fade no-opacity" uk-grid>
                <div>
                    <div class="uk-card uk-card-default">
                        <div class="uk-card-header">
                            <h3 class="uk-card-title">Running Your Own Dedicated Server</h3>
                        </div>
                        <div class="uk-card-body">
                            <p>
                                Running your own dedicated GearStorm server will give you full control over your
                                community's GearStorm experience and the best performance for a large number of players.
                                <br>
                                The dedicated server is available for Windows only for now.
                            </p>

                            <h4>Contents</h4>
                            <ol class="uk-nav uk-nav-default">
                                <li><a href="#">Prerequisites</a></li>
                                <li><a href="#">Hardware</a></li>
                                <li><a href="#">Network</a></li>
                                <li><a href="#">Prerequisites</a></li>
                                <li><a href="#">Copying the Server</a></li>
                                <li><a href="#">Configuring the Server</a></li>
                                <li><a href="#">Running the Server</a></li>
                                <li class="uk-parent">
                                    <a href="#">Port Forwarding and Firewall</a>
                                    <ol class="uk-nav-sub">
                                        <li><a href="#">Finding Your Server in Lists</a></li>
                                        <li><a href="#">Port Forwarding</a></li>
                                        <li><a href="#">Windows (Firewall and Allow Rules)</a></li>
                                    </ol>
                                </li>
                                <li class="uk-parent">
                                    <a href="#">Automatic Startup</a>
                                    <ol class="uk-nav-sub">
                                        <li><a href="#">Windows (via Scheduled Task)</a></li>
                                    </ol>
                                </li>
                                <li><a href="#">Updating</a></li>
                                <li><a href="#">Administrating Your Server</a></li>
                                <li><a href="#">Backing Up Server Data</a></li>
                                <li class="uk-parent">
                                    <a href="#">Troubleshooting</a>
                                    <ol class="uk-nav-sub">
                                        <li><a href="#">Server Loses Characters or World Data Upon Restart</a></li>
                                    </ol>
                                </li>
                                <li><a href="#">Notes</a></li>
                                <li><a href="#">References</a></li>
                                <li><a href="#">External Links</a></li>
                            </ol>

                            <h4 class="uk-heading-divider">Requirements</h4>
                            <ol class="uk-list uk-list-hyphen">
                                <li>CPU: Intel Core i7</li>
                                <li>RAM: 6GB</li>
                                <li>OS: Windows 7 64 bit or newer / Windows Server 2012 R2 or newer (64 bits)</li>
                                <li>Microsoft Visual C++ 2013 Redistributable</li>
                                <li>DirectX</li>
                            </ol>

                            <h4>Network</h4>
                            <div>
                                <p>
                                    GearStorm can be demanding on the network also, for a dedicated server with more
                                    than 5 players online full time, we recommend at least 1 Gigabit of upload and
                                    download speed, more may be required depending on how many players you have on at
                                    the same time. The server listens for incoming connections on the ports listed
                                    below. Ensure your network configuration allows incoming connections to these ports
                                    and directs them to the host that will be running your dedicated server.
                                </p>
                                <table class="uk-table uk-table-divider uk-table-middle uk-table-small">
                                    <tbody>
                                    <tr>
                                        <td>UDP 7777</td>
                                        <td>Game client port</td>
                                    </tr>
                                    <tr>
                                        <td>UDP 7778</td>
                                        <td>Raw UDP socket port (always Game client port +1)</td>
                                    </tr>
                                    <tr>
                                        <td>UDP 27015</td>
                                        <td>Query port for Steam's server browser</td>
                                    </tr>
                                    <tr>
                                        <td>TCP 27020</td>
                                        <td>RCON for remote console server access (optional)</td>
                                    </tr>
                                    </tbody>
                                </table>
                                <p>
                                    You can host multiple dedicated servers on the same host, however be aware that CPU
                                    and memory should be monitored carefully if they are busy servers rather than test
                                    servers. For example:
                                </p>
                                <table class="uk-table uk-table-divider uk-table-middle uk-table-small">
                                    <thead>
                                    <tr>
                                        <th>Server instance</th>
                                        <th>Game port</th>
                                        <th>Raw UDP port</th>
                                        <th>Query port</th>
                                        <th>RCON port</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>Server game instance 1</td>
                                        <td>7777</td>
                                        <td>7778</td>
                                        <td>27015</td>
                                        <td>27020</td>
                                    </tr>
                                    <tr>
                                        <td>Server game instance 2</td>
                                        <td>7779</td>
                                        <td>7780</td>
                                        <td>27016</td>
                                        <td>27021</td>
                                    </tr>
                                    <tr>
                                        <td>Server game instance X</td>
                                        <td>XXXX</td>
                                        <td>XXXX</td>
                                        <td>XXXXX</td>
                                        <td>XXXXX</td>
                                    </tr>
                                    </tbody>
                                </table>
                                <p>
                                    *Query Port cannot be between 27020 and 27050 due to Steam using those ports. Don't
                                    forget about the windows firewall! Just allow the "gearstormserver.exe" through it.
                                </p>

                                <p>
                                    For your server to become visible in both the GearStorm in-game server browser and
                                    the Steam server browser, do the following:
                                </p>

                                <h5>Port Forwarding</h5>
                                <p>
                                    portforward.com offers tutorials for setting up port forwarding on your router. For
                                    the default setup, forwarding 27015 as the port, and 27016 as the query port. 27015,
                                    27016, and 7777 are the most common ports that work.
                                    <br>
                                    You MUST forward both TCP and UDP for your server to show up on any lists. You can
                                    make sure your ports are open by using the tool from portforward.com, that is, after
                                    you
                                    <br>
                                    Enter the ports that you have forwarded in the start_server.bat file you should have
                                    created earlier. For example: start ShooterGameServer.exe
                                    TheIsland?listen?SessionName=
                                </p>

                                <h5>Windows (Firewall and Allow Rules)</h5>
                                <ol class="uk-list">
                                    <li>If you're on Windows 10, click on the search box in the lower left corner and
                                        type in "Firewall". Click on "Windows Firewall".
                                    </li>
                                    <li>Once Firewall opens, click "Advanced settings" on the left panel.</li>
                                    <li>Click "Inbound Rules" on the left panel, then click "New Rule..." on the right
                                        panel.
                                    </li>
                                    <li>When the New Inbound Rule Wizard opens up, select Port, then next.</li>
                                    <li>The setup will now ask you if you want to allow TCP or UDP, and what port it
                                        will be. Select TCP. Then, make sure you have "Specific local ports" selected
                                        and then put the port you plan to forward into the box (default 27020 for RCON).
                                    </li>
                                    <li>Select "Allow the connection", and continue with the wizard.</li>
                                    <li>Make sure all of the boxes are selected for where the rule applies.</li>
                                    <li>Enter a name (required) and a description (optional).</li>
                                    <li>Repeat these steps, but instead of allowing TCP allow UDP. Make sure to enter
                                        your steam browser/query port (27015 default) and game port (7777 default). You
                                        also need the raw udp socket port (7778 default, always your game port +1) if
                                        using ?bRawSockets.
                                    </li>
                                    <li>You should have 3 port rules now in the Inbound Rules section.</li>
                                    <li>This section and the port forwarding section go hand in hand.</li>
                                    <li>Close the advanced firewall window, and open Windows Firewall again.</li>
                                    <li>Click "Allow an app or feature through Windows Firewall". Scroll down to
                                        ShooterGame. Make sure all apps named ShooterGame have the 13. Private and
                                        Public boxes checked.
                                    </li>
                                    <li>You're done, and if your ports don't work when you forward them, you can edit
                                        your Firewall inbound rules by going back to the advanced tab, selecting the
                                        Inbound Rules tab, right-clicking the rules you created, then clicking
                                        properties.
                                    </li>
                                </ol>
                            </div>

                            <h4>Configuring the Server</h4>
                            The configuration parameters you need to set <b>OUTSIDE</b> of the game are in <code>YOUR_STEAM_FOLDER\<wbr/>GearStorm\<wbr/>GearStorm\<wbr/>Config\<wbr/>defaultgame.ini</code>.
                            <br>
                            You may want to copy the section below
                            <pre><code>[/Script/ShooterGame.ServerSettings]
ServerName="CUSTOM_SERVER_NAME"
ServerDescription="CUSTOM_SERVER_DESCRIPTION"
+ServerAdmin=*</code></pre>
                            to <code>YOUR_STEAM_FOLDER\<wbr/>GearStorm\<wbr/>GearStorm\<wbr/>Saved\<wbr/>Config\<wbr/>WindowsNoEditor\<wbr/>game.inigame.ini</code>.
                            <br>
                            Edit "ServerName" and "ServerDescription" to display your server name and description in the
                            Steam server browser and in the GearStorm in-game server browser.
                            <br>
                            In the example above, the entry "+ServerAdmin=*" means everyone that logs into the server is
                            admin! You can delete this line and add admins using Steam player's 17-digit Steam ID
                            number. A Steam ID number can be seen by going to the "view my profile" option on the
                            upper-right hand side of the page and looking at the URL field. The Steam ID number is the
                            number after <code>https://steamcommunity.com/<wbr/>profiles/</code>. Simply add new lines
                            for each player you want to be admin like the example below:
                            <pre><code>+ServerAdmin=12345678912345678
+ServerAdmin=06061118111011701
+ServerAdmin=00000000000000000</code></pre>
                            ***If you don't remove the "+ServerAdmin=*" entry, everyone that logs into your server will
                            be admin no matter what other listing you put in!***

                            <h4>Running the Server</h4>
                            Create <code>start_GearStorm_server.bat</code> and place it in
                            <code>YOUR_STEAM_FOLDER/<wbr/>GearStorm/<wbr/>GearStorm/<wbr/>Binaries/<wbr/>Win64/</code>
                            (remove the '<' '>' symbols!) start ShooterGameServer.exe /game/maps/Campaign?Port=

                            <h4>Automatic Startup</h4>
                            <div>
                                Windows (via Scheduled Task) You can configure a scheduled task to automatically run a
                                batch file and start the dedicated server when the system boots.
                                <ol class="uk-list">
                                    <li>Open 'Task Scheduler'
                                    </li>
                                    <li>Create Basic Task</li>
                                    <li>The 'Create Basic Task Wizard' will appear, name the task whatever you want
                                    </li>
                                    <li>Set the Trigger to 'When the computer starts'</li>
                                    <li>Set the Action to 'Start a program'.</li>
                                    <li>You will need to browse to the program/script you wish to start (which is your
                                        .BAT batch file that starts your server).
                                    </li>
                                    <li>Depending on how your batch file works, you may need to set the "Start in
                                        (optional)" path, so the working directory of your batch file is correct. (If
                                        your batch file simply contains the "start ShooterGame ..." command, then you
                                        should set the "Start in (optional)" path of your scheduled task to the
                                        directory that contains the batch file)
                                    </li>
                                    <li>Before you create the scheduled task, click the checkbox to "open properties
                                        window" after it's created
                                    </li>
                                    <li>In the General Tab under the Security Options frame, you probably want to choose
                                        "Run whether user is logged on or not"
                                    </li>
                                    <li>I personally checked "run with highest privileges" just in case. This might not
                                        be necessary.
                                    </li>
                                </ol>
                                After following these steps, your server should be up and running, and be automatically
                                managed by the host on startup and shutdown.

                                Updating To update the server when a new version is released, just re-copy your game
                                from you Steam directory to your server. Be sure to preserve the same files in your
                                server's "\Saved\SaveGames" directory before you copy the game over and re-copy them
                                over the files in the game directory.
                            </div>

                            <h4>Administrating Your Server</h4>
                            <p>
                                GearStorm has in-game GUI interfaces for most admin functions. By default, the
                                "backspace" key will bring up the admin menu and allow a admin to teleport himself or
                                other players, spawn anything, build fast and unlimited, fly, kick players, kill
                                players, ban players, change weapon damages, range, dropoffs for the whole server
                                instantly, edit and create new quests, change the weather instantly, change the time of
                                day, alter the shadow lighting for every player on the server instantly, send special
                                notices to all the players, and save and load the server map. All while playing the
                                game, inside the game interface. Some built items have special admin functions (for
                                example, building cores) that you can access with "alt-e" instead of "e" (default key
                                setting). As a admin, you can use these menus to set the destructibility of blocks
                                within a core's radius or the difficulty level of the AI in that core's radius, for
                                example.
                            </p>

                            <h4>Copying the Server</h4>
                            <p>
                                The server is included in your Steam distribution of the game. Simply copy
                                YOUR_STEAM_GEARSTORM_FOLDER to your server.
                            </p>

                            <h4>Backing Up Server Data</h4>
                            <p>
                                To make a backup of the server data, simply copy the folder named ShooterGame/Saved (and
                                his content) to the desired backup location. This folder contains all item, social,
                                player and world data for the server. Performing a backup is recommended before updating
                                a server to a new release.
                            </p>

                            <h4>Troubleshooting</h4>
                            <h5>Server Loses Characters or World Data Upon Restart</h5>
                            <p>
                                If your server isn't retaining characters or world data when it's restarted, it may not
                                have full access to the folder where it's installed. The first time the server is run,
                                it should create a folder named GearStorm/Saved containing various configuration and
                                save files. If the server has run at least once but hasn't created this folder, it may
                                not have been able to create new folders and files there. Verify that the folder where
                                the server is installed is readable and writable by the user account that actually runs
                                the server. (For Windows servers, check the status of User Account Control)

                                The server software, by default, is set-up to automatically save world data every 15
                                minutes. If your server crashes before the first 15 minutes are up, you will not have
                                any data saved.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</body>
</html>